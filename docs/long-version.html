<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>Functional programming with Elm</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>Functional programming with Elm</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>An introduction to the Elm programming language</strong></p>
</div>
<div class="paragraph">
<p>Authors:</p>
</div>
<div class="paragraph">
<p><a href="mailto:pascal.lemerrer@orange.com">Pascal Le Merrer</a><br>
<a href="mailto:claire.gilbertas@orange.com">Claire Gilbertas</a></p>
</div>
<div class="paragraph">
<p>License: <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/fr/deed.en">Attribution-NonCommercial-ShareAlike 2.0 France (CC BY-NC-SA 2.0 FR)</a></p>
</div>
<div class="imageblock text-right">
<div class="content">
<img src="images/Master_Logo_RGB.png" alt="Master Logo RGB" width="80" height="80">
</div>
</div>
<div class="paragraph">
<p>This workshop comes in two flavors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a full version, in which you need to install elm and a few tools, using npm, on your computer. in this version you will use the editor of your choice, and learn how to write unit tests, in addition to create an app. You will need around 3 hours to complete this version. If you don&#8217;t have enough time now, don&#8217;t worry, everything is provided in order you can finish it later.</p>
</li>
<li>
<p><a href="https://pascallemerrer.github.io/elm-workshop/">a short version</a>, in which you don&#8217;t need to install anything on your computer. You will use an online editor. This environment does not allow executing unit tests. So the last part of the full tutorial, which adds new feature in a TDD way, will be skipped. That&#8217;s why this version will be a bit quicker to complete than the full one.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>This document is the material for the full version.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_workshop_objectives">1. Workshop objectives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After this workshop, you should be able to create and test a basic Elm application.</p>
</div>
<div class="sect2">
<h3 id="_the_content_of_the_workshop">1.1. The content of the workshop</h3>
<div class="ulist">
<ul>
<li>
<p>practical: GUI of an image search engine</p>
</li>
<li>
<p>introduction to language and tools</p>
</li>
<li>
<p>first steps with elm</p>
</li>
<li>
<p>basic principles of functional programming</p>
</li>
<li>
<p>the architecture of an elm application</p>
</li>
<li>
<p>client / server communication</p>
</li>
<li>
<p>test an elm application, use the Debug module</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The workshop duration will probably be not long enough for you to do all of this.
This is deliberate, so don&#8217;t worry. But you can continue later if your interest was caught.</p>
</div>
<div class="paragraph">
<p>The solutions of the practical are available <a href="https://github.com/PascalLeMerrer/elm-workshop">on github</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_elm">2. Introduction to Elm</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_elm_language">2.1. The Elm language</h3>
<div class="ulist">
<ul>
<li>
<p>Elm is a functional language, whose compilation generates Javascript.</p>
</li>
<li>
<p>It has <strong>very</strong> strong typing</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Img_ulmus_americana_2209.jpg" alt="Img ulmus americana 2209">
</div>
</div>
<div class="paragraph">
<p><span class="small"><em>Image : User Henryhartley on en.wikipedia - license <a href="http://www.gnu.org/copyleft/fdl.html">GFDL</a> or <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a>, via Wikimedia Commons</em></span></p>
</div>
<div class="paragraph">
<p>Elm means elm, like the tree ("orme" in French), it&#8217;s not an acronym, so it&#8217;s written in lowercase.</p>
</div>
<div class="paragraph">
<p>Elm is one of the simplest functional languages available today.
This translates into a limited number of concepts in the language.
This simplicity is due to the will of the creator of the language to make it accessible to the greatest number of people.</p>
</div>
<div class="paragraph">
<p>The notion of type is more advanced than in Java for example. The compiler is able to infer the type of all expressions.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_a_front_end_language">2.2. A front-end language</h3>
<div class="imageblock text-center">
<div class="content">
<img src="images/elmfrontend.png" alt="elmfrontend">
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>development in elm</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>compilation &amp; optimization</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Elm is a front-end language only (for the moment), it ultimately produces front-end javascript code.</p>
</div>
<div class="paragraph">
<p>The developer writes in elm, tests in elm.<br>
The elm compiler compiles and optimizes the elm code into a concise and efficient javascript code.<br>
This code is not intended to be read by a human.<br>
The elm code is not deployed in production, only the compiled Javacript is.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_do_you_use_it">2.3. How do you use it?</h3>
<div class="ulist">
<ul>
<li>
<p>compile elm to JS</p>
</li>
<li>
<p>include in the HTML page the file resulting from the compilation</p>
</li>
<li>
<p>call the init() function</p>
</li>
</ul>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>It is possible for an elm app to <strong>interact with the native JS</strong> code.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">3. Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prerequisites: npm</p>
</div>
<div class="paragraph">
<p><em>npm itself is installed as a part of <a href="https://nodejs.org/en/">nodeJS</a>, so if you don&#8217;t have npm, you&#8217;ll need to install nodeJS.</em></p>
</div>
<div class="paragraph">
<p>To install the required tooling for the workshop, execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>npm install --global elm elm-format elm-test</pre>
</div>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>In case of rights issues under Linux, try <a href="https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally">this solution</a></p>
</div>
<div class="paragraph">
<p>You should be able to use npm without sudo.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_editors">4. Editors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are plugins for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jcollard/elm-mode">Emacs</a></p>
</li>
<li>
<p><a href="https://github.com/klazuka/intellij-elm">IntelliJ</a></p>
</li>
<li>
<p><a href="https://packagecontrol.io/packages/Elm%20Language%20Support">Sublime Text</a></p>
</li>
<li>
<p><a href="https://github.com/ElmCast/elm-vim">Vim</a></p>
</li>
<li>
<p><a href="https://github.com/sbrink/vscode-elm">VS Code</a></p>
</li>
<li>
<p><a href="https://atom.io/packages/language-elm">Atom plugin</a>, to be completed with <a href="https://atom.io/packages/elmjutsu">elmjutsu</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NB: the plugin must support elm 0.19</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>Some plugins are not maintained:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://github.com/rundis/elm-light">plugin for Light Table </a> has not been updated and only supports elm 0.18</p>
</li>
<li>
<p>The plugin for <a href="https://github.com/lepinay/elm-brackets">Brackets</a> is also obsolete</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_we_recommend_you">4.1. We recommend you&#8230;&#8203;</h3>
<div class="ulist">
<ul>
<li>
<p>Intellij/Webstorm/&#8230;&#8203;</p>
</li>
<li>
<p>the elm plugin for this IDE</p>
</li>
</ul>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>At the time of writing this document, this IDE is the one that offers to our knowledge the best support of Elm.
Its use is absolutely not mandatory, you can of course use another tool if you prefer.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_configure_the_elm_plugin_for_intellij">4.2. Configure the elm plugin for Intellij</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>open <code>Preferences &gt; languages &amp; frameworks &gt; elm</code></p>
</li>
<li>
<p>use the auto-discover buttons for elm, elm-format and elm-test</p>
</li>
<li>
<p>if it does not work, use <code>which elm</code>, <code>which elm-format</code> and/or <code>which elm-test</code> to get the path to enter in the <code>location</code> fields</p>
</li>
<li>
<p>check "Run when file saved?"</p>
</li>
<li>
<p>don&#8217;t worry if an error message appear in the elm-test section, it&#8217;s because you have no test yet</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hello_world">5. Hello, World!</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_initiate_an_elm_project">5.1. Initiate an Elm project</h3>
<div class="paragraph">
<p>Open a terminal, and in the root directory for you project, type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elm init</pre>
</div>
</div>
<div class="paragraph">
<p>elm init creates the elm.json file that describes the project dependencies.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_basic_elm_application">5.2. A basic Elm application</h3>
<div class="paragraph">
<p><span class="small">src/Main.elm</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span>
<span class="tok-kn">module </span><span class="tok-nc">Main</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">main</span><span class="tok-p">)</span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">

<span class="tok-kn">import </span><span class="tok-nc">Html</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">text</span><span class="tok-p">)</span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/2.png" alt="2">

<span class="tok-kr">main </span><span class="tok-nf">=</span>
    <span class="tok-nv">text</span> <span class="tok-s">&quot;Hello, World!&quot;</span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/3.png" alt="3"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>A module is declared in a file of the same name.</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>Imports the "text" function of the Html module.</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/3.png" alt="3"></td>
<td>The main function invokes the text + function
and passes it a string as a parameter
<div class="ulist">
<ul>
<li>
<p>Functions and their parameters are <strong>separated by spaces</strong>, not by parentheses</p>
</li>
<li>
<p>The name of the types begins with an <strong>uppercase letter</strong>.</p>
</li>
<li>
<p>The name of the functions and values starts with a <strong>lowercase letter</strong>.</p>
</li>
<li>
<p>There is no <code>return</code> keyword or equivalent</p>
</li>
<li>
<p>the <strong>returned value</strong> is the evaluation of the last executed line</p>
</li>
<li>
<p>The result of the <code>main</code> function is of the type <strong>Html</strong>, and will be reported by the elm runtime in the DOM</p>
</li>
<li>
<p>The indentation is significant: the fact that `text "Hello, World!" is indented implies that this line is part of the body of the main function.</p>
</li>
<li>
<p>The <strong>number of spaces</strong> used for indentation is <strong>free</strong>.</p>
</li>
<li>
<p><code>--</code> is the delimiter for line comments</p>
</li>
</ul>
</div></td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Select the <code>elm.json</code> file at the root of your project when the IDE will suggest you to attach it.</strong></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_compile_the_application">5.3. Compile the application</h3>
<div class="paragraph">
<p>In the terminal, type :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elm make src/Main.elm --output elm.js</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The result of the compilation is a single JS file, regardless of the number of elm source files.</p>
</li>
<li>
<p>We never edit this file, whose highly optimized content is not designed to be read.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_format_the_code">5.4. Format the code</h3>
<div class="paragraph">
<p>If your IDE/editor does not format automatically the code,
you should do it regularly by typing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> elm-format src/Main.elm  --yes</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_index_html">5.5. Create index.html</h3>
<div class="paragraph">
<p>Create an index.html file <strong>at the project root</strong>, where elm.js was generated.</p>
</div>
<div class="paragraph">
<p><span class="small">index.html :</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span></span><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">html</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">meta</span> <span class="tok-na">charset</span><span class="tok-o">=</span><span class="tok-s">&quot;utf-8&quot;</span> <span class="tok-p">/&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>Elm image search<span class="tok-p">&lt;/</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>
    <strong><span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;elm.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span></strong> <img src="./images/icons/callouts/1.png" alt="1">
<span class="tok-p">&lt;/</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">body</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">app</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">app</span><span class="tok-p">&gt;</span> <img src="./images/icons/callouts/2.png" alt="2">
    <span class="tok-p">&lt;</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
        <span class="tok-o"><strong></span><span class="tok-nx">Elm</span><span class="tok-p">.</span><span class="tok-nx">Main</span><span class="tok-p">.</span><span class="tok-nx">init</span><span class="tok-p">({</span> <span class="tok-nx">node</span><span class="tok-o">:</span> <span class="tok-nb">document</span><span class="tok-p">.</span><span class="tok-nx">querySelector</span><span class="tok-p">(</span><span class="tok-s2">&quot;app&quot;</span><span class="tok-p">)</span> <span class="tok-p">})</span><span class="tok-o"></strong></span> <img src="./images/icons/callouts/3.png" alt="3">
    <span class="tok-p">&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">body</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">html</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>Loading the file resulting from the compilation</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>The HTML node in which the application will be displayed</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/3.png" alt="3"></td>
<td>Launching the elm application</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The init function takes as a parameter the reference of the node in which the application should be displayed</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_expected_outcome">5.6. Expected outcome</h3>
<div class="paragraph">
<p>Open index.html in the browser to see the result</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/screenshots/HelloWorld.png" alt="HelloWorld">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_first_steps">6. First Steps</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_produce_some_html">6.1. Produce some Html</h3>
<div class="paragraph">
<p><span class="small">src/Main.elm</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">module </span><span class="tok-nc">Main</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">main</span><span class="tok-p">)</span>

<span class="tok-kn">import </span><span class="tok-nc">Html</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nf"><strong></span><span class="tok-nv">h</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-nf"></strong></span> <span class="tok-nv">text</span><span class="tok-p">)</span>

<span class="tok-nf"><strong></span><span class="tok-nv">view</span> <span class="tok-nf">=</strong></span>
    <span class="tok-nf"><strong></span><span class="tok-nv">h</span><span class="tok-mi">1</span> <span class="tok-p">[]</span> <span class="tok-p">[</span><span class="tok-nv">text</span> <span class="tok-s">&quot;elm Image Search&quot;</span><span class="tok-p">]</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">

<span class="tok-nf"><strong></span><span class="tok-nv">main</span> <span class="tok-nf">=</span>
    <span class="tok-nv">view</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/2.png" alt="2"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>call to function h1 of the Html module</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>call the view function</td>
</tr>
</table>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>NB: added code is in bold type in all code blocks.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Html has <strong>functions for each of the HTML language tags</strong>: div, p, etc.</p>
</div>
<div class="paragraph">
<p>These functions take <strong>two parameters: a list of attributes</strong> (class, onClick, etc.)<br>
<strong>and a list of children.</strong><br>
In the above example h1 has no attribute and has a single child, of the text type.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_add_an_input_field">6.2. Add an input field</h3>
<div class="paragraph">
<p><span class="small">src/Main.elm</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">module </span><span class="tok-nc">Main</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">main</span><span class="tok-p">)</span>

<span class="tok-nf"><strong></span><span class="tok-kr">import</span> <span class="tok-kt">Html</span> <span class="tok-nv">exposing</span> <span class="tok-nf">(..)</strong></span>  <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">
<span class="tok-nf"><strong></span><span class="tok-kr">import</span> <span class="tok-kt">Html</span><span class="tok-nf">.</span><span class="tok-kt">Attributes</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">type_</span><span class="tok-p">)</span><span class="tok-nf"></strong></span>

<span class="tok-nv">view</span> <span class="tok-nf">=</span>
    <span class="tok-nf"><strong></span><span class="tok-nv">div</span> <span class="tok-p">[]</span>
        <span class="tok-p">[</span> <span class="tok-nv">h</span><span class="tok-mi">1</span> <span class="tok-p">[]</span> <span class="tok-p">[</span><span class="tok-nv">text</span> <span class="tok-s">&quot;elm image search&quot;</span><span class="tok-p">]</span>
        <span class="tok-p">,</span> <span class="tok-nv">input</span> <span class="tok-p">[</span> <span class="tok-nv">type_</span> <span class="tok-s">&quot;text&quot;</span><span class="tok-p">]</span> <span class="tok-p">[]</span>
        <span class="tok-p">]</span><span class="tok-nf"></strong></span>

<span class="tok-kr">main </span><span class="tok-nf">=</span>
    <span class="tok-nv">view</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>exposing (..) imports all functions and types of the module</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To avoid a conflict with the keyword <code>type</code>,
the "type" attribute of the HTML language is generated
by a function named <code>type_</code></p>
</div>
<div class="paragraph">
<p>On the other hand, there is no problem for the name of the attribute <code>class</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_expected_result">6.3. Expected result</h3>
<div class="imageblock">
<div class="content">
<img src="images/screenshots/PremiersPas.png" alt="PremiersPas">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styles">7. Styles</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_add_a_stylesheet">7.1. Add a stylesheet</h3>
<div class="paragraph">
<p>Get <a href="https://raw.githubusercontent.com/PascalLeMerrer/elm-workshop/master/bulma.min.css">bulma.min.css</a>, and then save it to the root directory of your project.</p>
</div>
<div class="paragraph">
<p><span class="small">index.html :</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span></span><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">html</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">meta</span> <span class="tok-na">charset</span><span class="tok-o">=</span><span class="tok-s">&quot;utf-8&quot;</span> <span class="tok-p">/&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>elm Image Search<span class="tok-p">&lt;/</span><span class="tok-nt">title</span><span class="tok-p">&gt;</span>
    <strong><span class="tok-p">&lt;</span><span class="tok-nt">link</span> <span class="tok-na">rel</span><span class="tok-o">=</span><span class="tok-s">&quot;stylesheet&quot;</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">&quot;text/css&quot;</span> <span class="tok-na">href</span><span class="tok-o">=</span><span class="tok-s">&quot;bulma.min.css&quot;</span> <span class="tok-p">/&gt;</span></strong>
    <span class="tok-p">&lt;</span><span class="tok-nt">script</span> <span class="tok-na">src</span><span class="tok-o">=</span><span class="tok-s">&quot;elm.js&quot;</span><span class="tok-p">&gt;&lt;/</span><span class="tok-nt">script</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">head</span><span class="tok-p">&gt;</span>
...</code></pre>
</div>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Bulma is a CSS framework that has the particularity of containing no JS by default, while most of alternatives are based on JQuery.
However, some extensions include JS (Slider, icon selector&#8230;&#8203;).</p>
</li>
<li>
<p>It is possible to use any CSS framework with Elm (Bootstrap among others).</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_add_css_classes">7.2. Add CSS classes</h3>
<div class="paragraph">
<p><span class="small">src/Main.elm</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">module </span><span class="tok-nc">Main</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">main</span><span class="tok-p">)</span>

<span class="tok-kn">import </span><span class="tok-nc">Html</span> <span class="tok-nv">exposing</span> <span class="tok-nf">(..)</span>
<span class="tok-kn">import </span><span class="tok-nc">Html.Attributes</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nf"><strong></span><span class="tok-nv">class</span><span class="tok-p">,</span><span class="tok-nf"></strong></span> <span class="tok-nv">type_</span><span class="tok-p">)</span>

<span class="tok-nv">view</span> <span class="tok-nf">=</span>
    <span class="tok-nv">div</span> <span class="tok-p">[</span> <span class="tok-nf"><strong></span><span class="tok-nv">class</span> <span class="tok-s">&quot;container&quot;</span><span class="tok-nf"></strong></span> <span class="tok-p">]</span>
        <span class="tok-p">[</span> <span class="tok-nv">h</span><span class="tok-mi">1</span> <span class="tok-p">[</span> <span class="tok-nf"><strong></span><span class="tok-nv">class</span> <span class="tok-s">&quot;title&quot;</span><span class="tok-nf"></strong></span>  <span class="tok-p">]</span> <span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-s">&quot;elm image search&quot;</span> <span class="tok-p">]</span>
        <span class="tok-p">,</span> <span class="tok-nv">input</span> <span class="tok-p">[</span> <span class="tok-nv">type_</span> <span class="tok-s">&quot;text&quot;</span><span class="tok-nf"><strong></span><span class="tok-p">,</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;medium input&quot;</span><span class="tok-nf"></strong></span> <span class="tok-p">]</span> <span class="tok-p">[]</span>
        <span class="tok-p">]</span>

<span class="tok-kr">main </span><span class="tok-nf">=</span>
    <span class="tok-nv">view</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_expected_outcome_2">7.3. Expected outcome</h3>
<div class="imageblock">
<div class="content">
<img src="images/screenshots/Styles.png" alt="Styles">
</div>
</div>
<div class="paragraph">
<p>The code for this step is available on <a href="https://github.com/PascalLeMerrer/elm-workshop/tree/step2">the github repo</a>, at the tag <strong>step 2</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functional_programming_the_basics">8. Functional programming: the basics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may want to go directly to <a href="#_type_annotations">Type annotations</a> if you&#8217;re already familiar with functional programming basics: pure functions, high-order functions, immutability, map/filter/reduce, lambdas&#8230;&#8203;</p>
</div>
<div class="sect2">
<h3 id="_definition">8.1. Definition</h3>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>In computer science, functional programming is a programming paradigm a style of building the structure and elements of computer programs that treats computation as the evaluation of mathematical functions and avoids changing-state and mutable data. It is a declarative programming paradigm, which means programming is done with expressions or declarations instead of statements.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><span class="small">source: <a href="https://en.wikipedia.org/wiki/Functional_programming">Wikipedia</a></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_immutability">8.2. Immutability</h3>
<div class="paragraph">
<p>Everything in Elm is immutable</p>
</div>
<div class="paragraph">
<p>This means a value or function cannot be modified after its creation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-cm">{-- no keyword var, val or def</span>
<span class="tok-cm">everything is immutable value, even the functions --}</span>

<span class="tok-nv">myNumber</span> <span class="tok-nf">=</span> <span class="tok-mi">42</span>

<span class="tok-nv">increment</span> <span class="tok-nv">x</span> <span class="tok-nf">=</span>
    <span class="tok-nv">x</span> <span class="tok-nf">+</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>You <strong>never change</strong> the value of a variable, it is not possible.</p>
</div>
<div class="paragraph">
<p>For example, adding an item to a list is done by <strong>reusing the old list</strong>.
The new item simply points to the first item in the old list, which is not modified.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_higher_order_functions">8.3. Higher order functions</h3>
<div class="paragraph">
<p>Functional languages allow the use of higher-order functions.</p>
</div>
<div class="paragraph">
<p>A function is said to be of higher order when it takes <strong>at least one function as a parameter, and/or returns a function as a result</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pure_functions">8.4. Pure functions</h3>
<div class="paragraph">
<p>A function is said <strong>pure</strong> if it does not produce any side effect.</p>
</div>
<div class="paragraph">
<p>The <strong>result</strong> of the call to a pure function <strong>depends only</strong> on the value
of its <strong>input parameters</strong>, and does not modify anything other than its return value.
This is why, for example, in elm an <code>if</code> must be followed by an <code>else</code>.</p>
</div>
<div class="paragraph">
<p>This has advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it&#8217;s easy to test</p>
</li>
<li>
<p>it&#8217;s often easy to understand</p>
</li>
<li>
<p>it&#8217;s powerful in case of multithreading (which Elm does not allow us, because it is based on JS)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>All</strong> Elm functions are pure. It means:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they are not based on any external state</p>
</li>
<li>
<p>they do not produce any side effects</p>
</li>
<li>
<p>they must return a result</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_list_functions">8.5. List functions</h3>
<div class="paragraph">
<p>Immutability implies you can&#8217;t do a <code>for</code> loop in Elm : you cannot change the index value at each iteration.</p>
</div>
<div class="paragraph">
<p>Instead why you will use some functions applicable to lists, typical of functional programming:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>map</code> to apply a transformation to each item in the list;</p>
</li>
<li>
<p><code>filter</code> to extract from the list items matching a given criteria;</p>
</li>
<li>
<p><code>fold</code> (named <code>reduce</code> in some other languages) to build a new data structure from the list.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_lambda">8.6. Lambda</h3>
<div class="paragraph">
<p><strong>Lamba = anonymous function</strong></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kt">List</span><span class="tok-nf">.</span><span class="tok-nv">map</span> <span class="tok-nf"><strong></span><span class="tok-p">(</span><span class="tok-nf">\</span><span class="tok-nv">x</span> <span class="tok-nf">-&gt;</span> <span class="tok-nv">x</span> <span class="tok-nf">+</span> <span class="tok-mi">1</span><span class="tok-p">)</span><span class="tok-nf"></strong></span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/lambda.jpeg" alt="lambda">
</div>
</div>
<div class="paragraph">
<p>A lambda is a <strong>function that has no name</strong>.</p>
</div>
<div class="paragraph">
<p>In the example, the lambda is applied to each element of the list, by the map function of the List module. It will add 1 to each item in the list. x is the value of the current element. The result will be a list containing [2, 3, 4].</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>In elm the <strong> "antislash" character </strong> is used to introduce an anonymous function.<br>
It was chosen because, visually, it is the closest character <strong>to the Greek letter lambda</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_type_annotations">9. Type annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Type annotations are very important in elm, although they are optional. In addition to documenting your code,
they help the compiler to provide clear user messages.</p>
</div>
<div class="paragraph">
<p>The type annotation defines the return type of a function.
It&#8217;s written just above the function name, like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nf"><strong></span><span class="tok-nv">increment</span> <span class="tok-nf">:</span> <span class="tok-kt">Int</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Int</span><span class="tok-nf"></strong></span>
<span class="tok-nv">increment</span> <span class="tok-nv">x</span> <span class="tok-nf">=</span>
    <span class="tok-nv">x</span> <span class="tok-nf">+</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A type annotation in Elm is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the name of the function or value;</p>
</li>
<li>
<p>the colon symbol;</p>
</li>
<li>
<p>a series of types separated by arrows.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <strong>last type</strong> is the <strong>return type</strong>.</p>
</div>
<div class="paragraph">
<p><code>increment : Int &#8594; Int</code> means the function <code>increment</code> takes an Int as a parameter and returns an Int.</p>
</div>
<div class="paragraph">
<p>A <strong>type name</strong> in Elm always starts with an <strong>uppercase letter</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">sum</span> <span class="tok-nf">:</span> <span class="tok-kt">Int</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Int</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Int</span> <span class="tok-c1">-- takes two Int as parameters, and returns an Int</span>
<span class="tok-nv">sum</span> <span class="tok-nv">a</span> <span class="tok-nv">b</span> <span class="tok-nf">=</span>               <span class="tok-c1">-- a and b are integers</span>
    <span class="tok-nv">a</span> <span class="tok-nf">+</span> <span class="tok-nv">b</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Some types are parametrized. By example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">wordCount</span><span class="tok-nf">:</span> <span class="tok-kt">List</span> <span class="tok-kt">String</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Int</span> <span class="tok-c1">-- takes a list of strings as parameter,</span>
                              <span class="tok-c1">-- and returns an Int</span>
<span class="tok-nv">wordCount</span> <span class="tok-nv">words</span> <span class="tok-nf">=</span>
    <span class="tok-nf">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A type maybe generic. In this case, the type name will use one or more lowercase tags.
By example <code>List a</code> is a generic list (similar to <code>List&lt;Any&gt;</code> or <code>List&lt;T&gt;</code> in some other languages).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kt">List</span><span class="tok-nf">.</span><span class="tok-nv">length</span><span class="tok-nf">:</span> <span class="tok-kt">List</span> <span class="tok-nv">a</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Int</span> <span class="tok-c1">-- takes a list of any type as parameter,</span>
                           <span class="tok-c1">-- and returns an Int</span>
<span class="tok-kt">List</span><span class="tok-nf">.</span><span class="tok-nv">length</span> <span class="tok-nv">myList</span> <span class="tok-nf">=</span>
    <span class="tok-nf">...</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>You can chose any name for the tags, the only constraint is to start with a lowercase letter.
It allows to give an indication of what this type should contain.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">view</span><span class="tok-nf">:</span> <span class="tok-kt">Html</span> <span class="tok-nv">msg</span> <span class="tok-c1">-- takes no parameter,</span>
               <span class="tok-c1">-- and returns some Html which can emit any kind of message</span>
               <span class="tok-c1">-- or no message at all</span>
<span class="tok-nv">view</span> <span class="tok-nf">=</span>
    <span class="tok-nv">text</span> <span class="tok-s">&quot;Hello, World!&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Parentheses in an annotation type identify a function. Some examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">apply</span><span class="tok-nf">:</span> <span class="tok-kt">String</span> <span class="tok-nf">-&gt;</span> <span class="tok-p">(</span><span class="tok-kt">String</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">List</span> <span class="tok-kt">Int</span><span class="tok-p">)</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Bool</span> <span class="tok-c1">-- takes a String</span>
                                              <span class="tok-c1">-- and a function</span>
                                              <span class="tok-c1">-- which converts a String</span>
                                              <span class="tok-c1">-- to a list of integers,</span>
                                              <span class="tok-c1">-- and returns a boolean</span>

<span class="tok-nv">selectTransformation</span><span class="tok-nf">:</span> <span class="tok-kt">String</span> <span class="tok-nf">-&gt;</span> <span class="tok-p">(</span><span class="tok-kt">Int</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Int</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Int</span><span class="tok-p">)</span> <span class="tok-c1">-- takes a String</span>
                                                    <span class="tok-c1">-- and returns a function</span>
                                                    <span class="tok-c1">-- which takes two integers,</span>
                                                    <span class="tok-c1">-- and returns an integer</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_elm_architecture">10. The Elm Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Elm Architecture is often refered as "TEA"</p>
</div>
<div class="sect2">
<h3 id="_the_mvu_pattern">10.1. The MVU pattern</h3>
<div class="imageblock text-center">
<div class="content">
<img src="images/MVU.jpg" alt="MVU">
</div>
</div>
<div class="paragraph">
<p><span class="small">Image by <a href="https://twitter.com/01k">Kolja Wilcke</a></span></p>
</div>
<div class="paragraph">
<p>The principle of the MVU pattern is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the application includes a template, a view function and an update function.</p>
</li>
<li>
<p>The view function is in charge of rendering the model (it will generate Html)</p>
</li>
<li>
<p>The view issues messages, for example to indicate that the user has
modified the content of an input field or clicked on a button;</p>
</li>
<li>
<p>The update function processes these messages and updates the model accordingly</p>
</li>
<li>
<p>This pattern is called MVU : Model - View - Update</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_the_mvu_pattern_by_example">10.2. The MVU pattern by example</h3>
<div class="imageblock text-center">
<div class="content">
<img src="images/muv-sandbox-modal.png" alt="muv sandbox modal">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the model contains the state of the application (i.e. it is a store). Initially: <code>deleteModal=False</code><br>
This model is sent to the <code>view</code> function by the elm runtime when the application starts.</p>
</li>
<li>
<p>the <code>view</code> function uses the initial template to decide whether or not to display the modal (i.e. delete confirmation pop-up)</p>
</li>
<li>
<p>the user clicks on the "delete" button on the html page.</p>
</li>
<li>
<p>the view then issues a message indicating this click</p>
</li>
<li>
<p>the runtime invokes the update function, and transmits to it the current model as well as the message sent by the view.</p>
</li>
<li>
<p>the update function contains the logic to be applied for each message<br>
for <code>DeleteClicked</code>, the logic consists in storing in the model with the new value of the field <code>deleteModal</code><br>
for this purpose, the update function creates a new model, which is a copy of the old one, but in which it gives the value <code>True</code> to the field <code>deleteModal</code>.</p>
</li>
<li>
<p>the runtime invokes the view function, and passes it the model it must render.</p>
</li>
<li>
<p>the new template contains <code>deleteModal=True</code>, so the view function displays the modal allowing the user to confirm the delete.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_lets_make_the_runtime_visible">10.3. Let&#8217;s make the runtime visible!</h3>
<div class="imageblock text-center">
<div class="content">
<img src="images/muv-sandbox-runtime.png" alt="muv sandbox runtime">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_typical_structure_of_an_elm_file">10.4. Typical structure of an elm file</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-c1">-- import section</span>
<span class="tok-kn">import </span><span class="tok-err">...</span>

<span class="tok-c1">-- main function</span>
<span class="tok-kr">main </span><span class="tok-nf">=</span> <span class="tok-nv">main</span>

<span class="tok-cm">{-- Type declaration --}</span>
<span class="tok-kr">type</span> <span class="tok-kt">Model</span><span class="tok-nf">....</span>

<span class="tok-nv">update</span> <span class="tok-nv">function</span> <span class="tok-nv">and</span> <span class="tok-nv">sub</span><span class="tok-nf">-</span><span class="tok-nv">functions</span> <span class="tok-kr">of</span> <span class="tok-nv">the</span> <span class="tok-nv">update</span> <span class="tok-c1">--}</span>
<span class="tok-nv">update</span> <span class="tok-nf">=</span> <span class="tok-nf">...</span>

<span class="tok-cm">{--view function and view sub-functions--}</span>
<span class="tok-nv">view</span> <span class="tok-nf">=</span> <span class="tok-nf">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The MVU is implemented in the main file of the application.<br>
Due to the declarative nature of the language, it is not a problem in elm to create longer file than in some other languages. Here the sections are separated by multi-line comments.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_implementation_of_the_elm_architecture">10.5. Implementation of the elm architecture</h3>
<div class="paragraph">
<p>TEA uses <a href="https://package.elm-lang.org/packages/elm/browser/latest/">Browser module</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the Browser module</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">elm</span> <span class="tok-nv">install</span> <span class="tok-nv">elm</span><span class="tok-nf">/</span><span class="tok-nv">browser</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">module </span><span class="tok-nc">Main</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">main</span><span class="tok-p">)</span>

<span class="tok-nf"><strong></span><span class="tok-kr">import</span> <span class="tok-kt">Browser</span><span class="tok-nf"></strong></span>
<span class="tok-kn">import </span><span class="tok-nc">Html</span> <span class="tok-nv">exposing</span> <span class="tok-nf">(..)</span>
<span class="tok-kn">import </span><span class="tok-nc">Html.exposing</span> <span class="tok-nv">attributes</span> <span class="tok-p">(</span><span class="tok-nv">class</span><span class="tok-p">,</span> <span class="tok-nv">type_</span><span class="tok-p">)</span>

<span class="tok-nf">...</span></code></pre>
</div>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>The Browser module exposes four functions that implement the elm architecture.</p>
</div>
<div class="paragraph">
<p>These functions depend on the type of application you want to create. The <a href="https://package.elm-lang.org/packages/elm/browser/latest/">Browser module documentation</a> details them.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_define_a_type_for_the_model">10.6. Define a type for the model</h3>
<div class="paragraph">
<p>All the functions of the Browser module require a model.</p>
</div>
<div class="paragraph">
<p>Our model will be a simple <strong>chain of character</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">import </span><span class="tok-nc">Html.Attributes</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">class</span><span class="tok-p">,</span> <span class="tok-nv">type_</span><span class="tok-p">)</span>

<span class="tok-nf"><strong></span><span class="tok-kr">type</span> <span class="tok-kr">alias</span> <span class="tok-kt">Model</span> <span class="tok-nf">=</span>
    <span class="tok-kt">String</span>

<span class="tok-nv">initialModel</span> <span class="tok-nf">:</span> <span class="tok-kt">Model</span>
<span class="tok-nv">initialModel</span> <span class="tok-nf">=</span>
    <span class="tok-s">&quot;&quot;</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>alias type</code>, as its name suggests, allows you to define a <strong>synonym</strong> for a type.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>initialModel is <strong>the variable - or function, it&#8217;s the same in elm,</strong>
which defines the initial value of the model (here an empty string)</p>
</div>
<div class="paragraph">
<p>Often this function is called <code>init</code>, but for clarity&#8217;s sake we will name it initialModel here.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_invoke_browser_sandbox">10.7. Invoke Browser.sandbox</h3>
<div class="paragraph">
<p>Browser.sandbox takes a <strong>record</strong> as a parameter</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">main </span><span class="tok-nf">=</span>
    <span class="tok-nf"><strong></span><span class="tok-kt">Browser</span><span class="tok-nf">.</span><span class="tok-nv">sandbox</span>
        <span class="tok-p">{</span> <span class="tok-nv">init</span> <span class="tok-nf">=</span> <span class="tok-nv">initialModel</span>
        <span class="tok-p">,</span> <span class="tok-nv">view</span> <span class="tok-nf">=</span> <span class="tok-nv">view</span>
        <span class="tok-p">,</span> <span class="tok-nv">update</span> <span class="tok-nf">=</span> <span class="tok-nv">update</span>
        <span class="tok-p">}</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A record is the name in elm for a <strong>structure</strong>.</p>
</div>
<div class="paragraph">
<p>The record expected by the <code>sandbox</code> function must have three fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>init</strong>, whose value is that of the <strong>initial model of the application</strong></p>
</li>
<li>
<p><strong>view</strong>, whose value is the reference of the <strong>function in charge of rendering</strong> the model visually. In our code this function is called view.</p>
</li>
<li>
<p><strong>update</strong>, whose value is the reference of the function that <strong>updates the model</strong>. This function is usually called update.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It gives the "anchor points" of the runtime.</p>
</div>
</div>
<div class="sect2">
<h3 id="_define_the_events_emitted_by_the_view">10.8. Define the events emitted by the view</h3>
<div class="paragraph">
<p>Create a <strong>custom type</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">import </span><span class="tok-nc">Html.Attributes</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">class</span><span class="tok-p">,</span> <span class="tok-nv">type_</span><span class="tok-p">)</span>

<span class="tok-nf"><strong></span><span class="tok-kr">type</span> <span class="tok-kt">Msg</span> <span class="tok-nf">=</span>
    <span class="tok-kt">InputChanged</span> <span class="tok-kt">String</span><span class="tok-nf"></strong></span>

<span class="tok-kr">type</span> <span class="tok-kr">alias</span> <span class="tok-kt">Model</span> <span class="tok-nf">=</span>
    <span class="tok-kt">String</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Msg type is a custom type that will define the different messages that can be sent by the view, and processed by the <code>update</code> function.</p>
</div>
<div class="paragraph">
<p>The declaration of a custom type lists the different constructors that can create a value of this type. For example, a Boolean type would be described by : True | False</p>
</div>
<div class="paragraph">
<p>For the moment there is only one case in which a message is sent. We will name the type constructor <code>InputChanged</code>, because a message will be sent when the content of the input field has been modified. As with a function or variable name, any name can be chosen. It only needs to be unique and begins with a capital letter.</p>
</div>
<div class="paragraph">
<p>Each type constructor can accept 0, 1 or more parameters. It will be useful for us to know the new content of the input field. This is why we indicate that the InputChanged constructor takes a String type value as a parameter.</p>
</div>
<div class="paragraph">
<p>The result of a call to <code>InputChanged</code> is the creation of a message of type <code>Msg</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_type_annotations_2">10.9. Type annotations</h3>
<div class="paragraph">
<p>Add a type annotation to the main function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nf"><strong></span><span class="tok-nv">main</span><span class="tok-nf">:</span> <span class="tok-kt">Program</span> <span class="tok-p">()</span> <span class="tok-kt">Model</span> <span class="tok-kt">Msg</span><span class="tok-nf"></strong></span>
<span class="tok-kr">main </span><span class="tok-nf">=</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://package.elm-lang.org/packages/elm/browser/latest/Browser">Documentation for Browser.sandbox</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adding <strong>type annotations</strong> documents the code, and allows the compiler to display more relevant error messages.</p>
</li>
<li>
<p>The main function does not take any parameter, and returns a Program () Model Msg, since it just calls Browser sandbox.</p>
</li>
<li>
<p>The brackets in the type annotation of the main function represent an empty tuple, called <code>unit</code>. It is an empty value.</p>
</li>
<li>
<p>In the Browser Sandbox documentation, "msg" starting with a lowercase letter is not a type but a <strong>label</strong>. It is equivalent to a generic type (like &lt;T&gt; in some other languages). Ditto for model.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_detection_of_events_on_the_view">10.10. Detection of events on the view</h3>
<div class="paragraph">
<p>The Html.events module provides functions to react to user actions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">import </span><span class="tok-err">...</span>
<span class="tok-nf"><strong></span><span class="tok-kr">import</span> <span class="tok-kt">Html</span><span class="tok-nf">.</span><span class="tok-kt">Events</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">onInput</span><span class="tok-p">)</span><span class="tok-nf"></strong></span>

<span class="tok-nf">...</span>

<span class="tok-nf"><strong></span><span class="tok-nv">view</span> <span class="tok-nf">:</span> <span class="tok-kt">Model</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Html</span> <span class="tok-kt">Msg</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">
<span class="tok-nf"><strong></span><span class="tok-nv">view</span> <span class="tok-nv">model</span> <span class="tok-nf">=</strong></span>
    <span class="tok-nv">div</span> <span class="tok-p">[</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;container&quot;</span> <span class="tok-p">]</span>
        <span class="tok-p">[</span> <span class="tok-nv">h</span><span class="tok-mi">1</span> <span class="tok-p">[</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;title&quot;</span>  <span class="tok-p">]</span> <span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-s">&quot;elm image search&quot;</span> <span class="tok-p">]</span>
        <span class="tok-p">,</span> <span class="tok-nv">input</span> <span class="tok-p">[</span> <span class="tok-nv">type_</span> <span class="tok-s">&quot;text&quot;</span>
                <span class="tok-p">,</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;medium input&quot;</span>
                <span class="tok-nf"><strong></span><span class="tok-p">,</span> <span class="tok-nv">onInput</span> <span class="tok-kt">InputChanged</span><span class="tok-nf"></strong></span> <span class="tok-p">]</span> <span class="tok-p">[]</span>
        <span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>Modify the type annotation to comply with Browser.sandbox requirements</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each time the content of the input field is modified, the view will issue an <code>InputChanged</code> message with the new value of the input field as a parameter.</p>
</div>
<div class="paragraph">
<p><code>Html</code> is a <strong>type constructor</strong>, which takes a message type as a parameter.</p>
</div>
<div class="paragraph">
<p>This type of annotation can be read as "The product view function of the Html that can send messages". And not just any messages: only those described by the Msg type we have defined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_create_an_update_function">10.11. Create an update function</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span>
<span class="tok-nv">view</span> <span class="tok-nf">=</span>
    <span class="tok-nf">...</span>

<span class="tok-nf"><strong></span><span class="tok-nv">update</span><span class="tok-nf">:</span> <span class="tok-kt">Msg</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Model</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Model</span>
<span class="tok-nv">update</span> <span class="tok-nv">msg</span> <span class="tok-nv">model</span> <span class="tok-nf">=</span>
    <span class="tok-nv">model</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The update function will receive in <strong>first parameter a message sent by the view</strong>.</p>
</div>
<div class="paragraph">
<p><code>update</code> takes as <strong>second parameter the current model</strong>, and <strong>returns the new model</strong> in result.</p>
</div>
<div class="paragraph">
<p><strong>The simplest possible implementation for update is to return the current model</strong>, without modifying it. That is what we are doing.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>When we say that the function <strong>update</strong> updates the model, it is for convenience, as the model is immutable.
In reality, this function <strong>produces a new model</strong>, possibly from the old one,
every time it is invoked.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_update_the_model">10.12. Update the model</h3>
<div class="paragraph">
<p><code>update</code> must update the template according to the content of the message. The latter is analyzed using pattern matching:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span>
<span class="tok-nv">update</span><span class="tok-nf">:</span> <span class="tok-kt">Msg</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Model</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Model</span>
<span class="tok-nv">update</span> <span class="tok-nv">msg</span> <span class="tok-nv">model</span> <span class="tok-nf">=</span>
    <span class="tok-nf"><strong></span><span class="tok-kr">case</span> <span class="tok-nv">msg</span> <span class="tok-kr">of</span>
        <span class="tok-kt">InputChanged</span> <span class="tok-nv">value</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-nv">value</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the message is of the InputChanged type, the new template will be equal to the value conveyed by the message (i.e. the content of the input field).</p>
</div>
<div class="paragraph">
<p>Pattern matching (or "pattern filtering") is a control structure
which allows you to choose one of several behaviors, by looking at how the message was constructed.
It will also allow to deconstruct the content of the message (unboxing) to recover its value.</p>
</div>
<div class="paragraph">
<p>In our example, msg can only have been built by calling "InputChanged" followed by a String for now.</p>
</div>
</div>
<div class="sect2">
<h3 id="_time_travelling_debugger">10.13. Time-Travelling Debugger</h3>
<div class="paragraph">
<p>Compile in debug mode:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span></span>elm make src/Main.elm --output elm.js --debug</code></pre>
</div>
</div>
<div class="paragraph">
<p>Enter several characters in the input field, then click on <strong>Explore History</strong> to access the debugger</p>
</div>
<div class="paragraph">
<p>In the window that opens, you can see each message that has been sent.</p>
</div>
<div class="paragraph">
<p>Clicking on a message returns the application to the state it was in when it was sent.
In the right part we see the state of the model after processing the message by the <code>update</code> function.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>The history can be exported and then imported on another workstation.
This makes it possible, for example, to replay and analyze a scenario that caused a bug on a colleague&#8217;s workstation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Click on <code>resume</code> to resume the execution of the application, otherwise it will be frozen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lets_summarize_the_elm_architecture">10.14. Let&#8217;s summarize: the elm architecture</h3>
<div class="imageblock text-center">
<div class="content">
<img src="images/tea_sandbox.png" alt="tea sandbox" height="450">
</div>
</div>
<div class="paragraph">
<p>The elm architecture is the structure of applications
in this language. It is integrated into the language from the beginning
and therefore eliminates the need for a framework.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the browser emits an event (following an action by the user for example)</p>
</li>
<li>
<p>the runtime, which is subscribed to this event, invokes the update function and passes it the current model + a message describing the event</p>
</li>
<li>
<p>the update function generates a new model</p>
</li>
<li>
<p>the runtime invokes the view function and passes it the new model</p>
</li>
<li>
<p>view generates a new virtual DOM and sends it back to the runtime</p>
</li>
<li>
<p>the runtime updates the real DOM</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The code for this step is available on <a href="https://github.com/PascalLeMerrer/elm-workshop/tree/step3">the github repo</a>, at the tag <strong>step 3</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_communicate_with_a_server">11. Communicate with a server</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_side_effects">11.1. Side effects</h3>
<div class="ulist">
<ul>
<li>
<p>Side effects are managed by the runtime</p>
</li>
<li>
<p>Side effects are invoked via commands</p>
</li>
<li>
<p>The result of a side effect is provided via a message</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We can only write pure functions in elm.
The result of calling a function with given parameter values
will ALWAYS return the same value - which is convenient for testing.</p>
</div>
<div class="paragraph">
<p>But what if you have to do an operation with a different result?
For example, generate a random number? Or make an http request?</p>
</div>
<div class="paragraph">
<p>In this case we will have to issue a command that will ask the elm runtime
to execute the <em>impure</em> function.
The runtime will provide the result of executing this <em>impure</em> function
by invoking the update function.
The message may contain, for example, the random number generated.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_elm_architecture_with_side_effects">11.2. Elm architecture with side effects</h3>
<div class="imageblock text-center">
<div class="content">
<img src="images/tea_element.png" alt="tea element" height="500">
</div>
</div>
<div class="paragraph">
<p>Compared to the simplest version of the elm architecture, we will have additional notions to manage the processing that causes side effects.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the update function generates a new model, and possibly a command</p>
</li>
<li>
<p>the runtime executes the command. This is where all side effects are processed (HTTP request, random number generation, etc.). The commands are asynchronous.</p>
</li>
<li>
<p>when the execution of a command ends, the runtime invokes the update function, and passes the current model a message that describes the result of the execution of the command (success or failure, value, etc&#8230;&#8203;) &#8658; return to step 1</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_change_application_type">11.3. Change application type</h3>
<div class="paragraph">
<p>Replace Browser.sandbox with Browser.element and compile</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">main </span><span class="tok-nf">=</span>
    <span class="tok-nf"><strong></span><span class="tok-kt">Browser</span><span class="tok-nf">.</span><span class="tok-nv">element</span><span class="tok-nf"></strong></span>
        <span class="tok-p">{</span> <span class="tok-nv">init</span> <span class="tok-nf">=</span> <span class="tok-nv">init</span>
        <span class="tok-p">,</span> <span class="tok-nv">view</span> <span class="tok-nf">=</span> <span class="tok-nv">view</span>
        <span class="tok-p">,</span> <span class="tok-nv">update</span> <span class="tok-nf">=</span> <span class="tok-nv">update</span>
        <span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Browser.element, unlike Browser.sandbox,
allows you to interact with the world outside the application.
Browser.element takes a record as a parameter with an additional field,
subscriptions.
The compiler clearly indicates which field is missing.</p>
</div>
</div>
<div class="sect2">
<h3 id="_implement_subscriptions">11.4. Implement subscriptions</h3>
<div class="paragraph">
<p>Provide a minimum implementation of subscriptions to Browser.element :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nf"><strong></span><span class="tok-nv">subscriptions</span> <span class="tok-nf">:</span> <span class="tok-kt">Model</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Sub</span> <span class="tok-kt">Msg</span>
<span class="tok-nv">subscriptions</span> <span class="tok-nv">model</span> <span class="tok-nf">=</span>
    <span class="tok-kt">Sub</span><span class="tok-nf">.</span><span class="tok-nv">none</span><span class="tok-nf"></strong></span>

<span class="tok-kr">main </span><span class="tok-nf">=</span>
    <span class="tok-kt">Browser</span><span class="tok-nf">.</span><span class="tok-nv">element</span>
        <span class="tok-p">{</span> <span class="tok-nv">init</span> <span class="tok-nf">=</span> <span class="tok-nv">init</span>
        <span class="tok-p">,</span> <span class="tok-nv">view</span> <span class="tok-nf">=</span> <span class="tok-nv">view</span>
        <span class="tok-p">,</span> <span class="tok-nv">update</span> <span class="tok-nf">=</span> <span class="tok-nv">update</span>
        <span class="tok-nf"><strong></span><span class="tok-p">,</span> <span class="tok-nv">subscriptions</span> <span class="tok-nf">=</span> <span class="tok-nv">subscriptions</span><span class="tok-nf"></strong></span>
        <span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>subscriptions</code> is a function that allows you to subscribe to function calls from the JS or elm runtime,
like the ticks of a clock.
In the immediate future, we will provide a subscription implementation that does nothing.
It will therefore return Sub.none, regardless of the value of the model passed to it as a parameter.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_adapt_the_initialization_function">11.5. Adapt the initialization function</h3>
<div class="paragraph">
<p>Replace <code>initialModel</code> by a function named <code>init</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nf"><strong></span><span class="tok-nv">init</span> <span class="tok-nf">:</span> <span class="tok-p">()</span> <span class="tok-nf">-&gt;</span> <span class="tok-p">(</span><span class="tok-kt">Model</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span> <span class="tok-kt">Msg</span><span class="tok-p">)</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">
<span class="tok-nf"><strong></span><span class="tok-nv">init</span> <span class="tok-nv">_</span> <span class="tok-nf">=</strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/2.png" alt="2">
    <span class="tok-nf"><strong></span><span class="tok-p">(</span><span class="tok-s">&quot;&quot;</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span><span class="tok-nf">.</span><span class="tok-nv">none</span><span class="tok-p">)</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/3.png" alt="3">
<span class="tok-nf">...</span>
<span class="tok-kr">main </span><span class="tok-nf">=</span>
    <span class="tok-kt">Browser</span><span class="tok-nf">.</span><span class="tok-nv">element</span>
        <span class="tok-p">{</span> <span class="tok-nf"><strong></span><span class="tok-nv">init</span> <span class="tok-nf">=</span> <span class="tok-nv">init</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>() = Unit = empty tuple = no value</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>_ = unused parameter</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/3.png" alt="3"></td>
<td>tuple (initial model, no command)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The compiler reports that the functions expected by Browser.element have
signatures different from those used by Browser.sandbox<br>
init and update must return a tuple with a Model record and a command.</p>
</div>
<div class="paragraph">
<p>The initialization function must also accept a flag as the first parameter.
Flags are values that can be transmitted
by the JS code when initializing the elm application
(by adding a flags property to the object passed as a parameter to init())</p>
</div>
<div class="paragraph">
<p>For now, we don&#8217;t need a flag, so it will be initialized to Unit.
Unit is just an empty tuple. It is used to represent an empty value.<br></p>
</div>
</div>
<div class="sect2">
<h3 id="_adapt_the_update_function">11.6. Adapt the update function</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">update</span> <span class="tok-nf">:</span> <span class="tok-kt">Msg</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Model</span> <span class="tok-nf"><strong>-&gt;</span> <span class="tok-p">(</span><span class="tok-kt">Model</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span> <span class="tok-kt">Msg</span><span class="tok-p">)</span><span class="tok-nf"></strong></span>
<span class="tok-nv">update</span> <span class="tok-nv">msg</span> <span class="tok-nv">model</span> <span class="tok-nf">=</span>
    <span class="tok-kr">case</span> <span class="tok-nv">msg</span> <span class="tok-kr">of</span>
        <span class="tok-kt">InputChanged</span> <span class="tok-nv">value</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-nf"><strong></span><span class="tok-p">(</span><span class="tok-nv">value</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span><span class="tok-nf">.</span><span class="tok-nv">none</span><span class="tok-p">)</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As with the init function, update must now return a tuple,
whose first element is the new value of the model, the second is the command to execute.
Cmd.none tells the elm runtime that there is no command to execute.</p>
</div>
<div class="paragraph">
<p>In the rest of the practical we will introduce a command that will launch an HTTP request.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_add_a_form">11.7. Add a form</h3>
<div class="paragraph">
<p>The form tag around the input field is used to detect the validation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span>    <span class="tok-nv">div</span> <span class="tok-p">[</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;container&quot;</span> <span class="tok-p">]</span>
        <span class="tok-p">[</span> <span class="tok-nv">h</span><span class="tok-mi">1</span> <span class="tok-p">[</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;title&quot;</span> <span class="tok-p">]</span> <span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-s">&quot;elm image search&quot;</span> <span class="tok-p">]</span>
        <span class="tok-nf"><strong></span><span class="tok-p">,</span> <span class="tok-nv">viewForm</span><span class="tok-nf"></strong></span>
        <span class="tok-p">]</span>

<span class="tok-nf"><strong></span><span class="tok-nv">viewForm</span> <span class="tok-nf">:</span> <span class="tok-kt">Html</span> <span class="tok-kt">Msg</span>
<span class="tok-nv">viewForm</span> <span class="tok-nf">=</span>
    <span class="tok-nv">form</span> <span class="tok-p">[]</span>
        <span class="tok-p">[</span> <span class="tok-nv">input</span>
            <span class="tok-p">[</span> <span class="tok-nv">type_</span> <span class="tok-s">&quot;text&quot;</span>
            <span class="tok-p">,</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;medium input&quot;</span>
            <span class="tok-p">,</span> <span class="tok-nv">onInput</span> <span class="tok-kt">InputChanged</span>
            <span class="tok-p">]</span>
            <span class="tok-p">[]</span>
        <span class="tok-p">]</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To maintain the readability of the <code>view</code> function,<br>
the code that generates the form is extracted into a new<br>
function named viewForm.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declare_a_new_message_constructor">11.8. Declare a new message constructor</h3>
<div class="paragraph">
<p>Add a message constructor to be used when the form is subbmitted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">type</span> <span class="tok-kt">Msg</span>
    <span class="tok-nf">=</span> <span class="tok-kt">InputChanged</span> <span class="tok-kt">String</span>
    <span class="tok-nf"><strong>|</span> <span class="tok-kt">FormSubmitted</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The compiler will help you for the next steps.</p>
</div>
<div class="paragraph">
<p>A message can now be either an InputChanged or a FormSubmitted.<br>
Gradually the possible types for a message will get richer.<br>
They will represent all possible actions on the page.</p>
</div>
<div class="paragraph">
<p>The different message constructors do not necessarily have the same types of parameters, or even have no parameters as is the case for FormSubmitted.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_detect_the_validation_of_the_form">11.9. Detect the validation of the form</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>import the <code>onSubmit</code> function of the <code>Html.events</code> module</p>
</li>
<li>
<p>send a message <code>FormSubmitted</code> when the form is validated</p>
</li>
<li>
<p>make sure that the application compiles</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_perform_an_http_get_request">11.10. Perform an HTTP GET request</h3>
<div class="paragraph">
<p>Install the elm/http module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>elm install elm/http</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="https://package.elm-lang.org/packages/elm/http/latest/Http">documentation</a> of the Http module gives the type annotation of the get function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">get</span> <span class="tok-nf">:</span>
    <span class="tok-p">{</span> <span class="tok-nv">url</span> <span class="tok-nf">:</span> <span class="tok-kt">String</span>
    <span class="tok-p">,</span> <span class="tok-nv">expect</span> <span class="tok-nf">:</span> <span class="tok-kt">Expect</span> <span class="tok-nv">msg</span>
    <span class="tok-p">}</span>
    <span class="tok-nf">-&gt;</span> <span class="tok-kt">Cmd</span> <span class="tok-nv">msg</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_send_an_image_search_request">11.11. Send an image search request</h3>
<div class="paragraph">
<p>For now we will treat the answers as text.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kt">FormSubmitted</span> <span class="tok-nf">-&gt;</span>
  <span class="tok-nf"><strong></span><span class="tok-kr">let</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">
    <span class="tok-nf"><strong></span><span class="tok-nv">httpCommand</span> <span class="tok-nf">=</span> <span class="tok-kt">Http</span><span class="tok-nf">.</span><span class="tok-nv">get</span>
      <span class="tok-p">{</span> <span class="tok-nv">url</span> <span class="tok-nf">=</span>
         <span class="tok-s">&quot;https://unsplash.noprod-b.kmt.orange.com&quot;</span>
         <span class="tok-nf">++</span> <span class="tok-s">&quot;/search/photos?query=&quot;</span>
         <span class="tok-nf">++</span> <span class="tok-nv">model</span>
      <span class="tok-p">,</span> <span class="tok-nv">expect</span> <span class="tok-nf">=</span> <span class="tok-kt">Http</span><span class="tok-nf">.</span><span class="tok-nv">expectString</span> <span class="tok-kt">ResponseReceived</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/2.png" alt="2">
      <span class="tok-nf"><strong></span><span class="tok-p">}</span>
  <span class="tok-kr">in</span>
  <span class="tok-p">(</span> <span class="tok-nv">model</span><span class="tok-p">,</span> <span class="tok-nv">httpCommand</span> <span class="tok-p">)</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>declaration of local variables</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>expectString indicates the type of response expected</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>let &#8230;&#8203; in allows you to declare local variables
usable in the return value of the function.</p>
</div>
<div class="paragraph">
<p>ResponseReceived is the message that will be sent following the reception of the response.
We will define this type constructor in a further step.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>Here again it is good to let yourself be guided by the compiler.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_digression_the_result_type">11.12. Digression: the Result type</h3>
<div class="paragraph">
<p>The <strong>Result</strong> type represents a response to an operation that may fail. It has two constructors: one to encapsulate the result of a successful operation, one to encapsulate an error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">type</span> <span class="tok-kt">Result</span> <span class="tok-nv">error</span> <span class="tok-nv">value</span>
    <span class="tok-nf">=</span> <span class="tok-kt">Ok</span> <span class="tok-nv">value</span>
    <span class="tok-nf">|</span> <span class="tok-kt">Err</span> <span class="tok-nv">error</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>is equivalent to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">type</span> <span class="tok-kt">Result</span> <span class="tok-nv">a</span> <span class="tok-nv">b</span>
    <span class="tok-nf">=</span> <span class="tok-kt">Ok</span> <span class="tok-nv">b</span>
    <span class="tok-nf">|</span> <span class="tok-kt">Err</span> <span class="tok-nv">a</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember, lowercase names are just tags, not types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declare_the_type_of_the_response">11.13. Declare the type of the response</h3>
<div class="paragraph">
<p>The update function must process the responses to the HTTP request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">type</span> <span class="tok-kt">Msg</span>
    <span class="tok-nf">=</span> <span class="tok-kt">InputChanged</span> <span class="tok-kt">String</span>
    <span class="tok-nf">|</span> <span class="tok-kt">FormSubmitted</span>
    <span class="tok-nf"><strong>|</span> <span class="tok-kt">ResponseReceived</span> <span class="tok-p">(</span><span class="tok-kt">Result</span> <span class="tok-kt">Http</span><span class="tok-nf">.</span><span class="tok-kt">Error</span> <span class="tok-kt">String</span><span class="tok-p">)</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="https://package.elm-lang.org/packages/elm/http/latest/Http">HTTP module documentation</a> tells us how it is used and the format of the response messages.</p>
</div>
<div class="paragraph">
<p>The message sent by the runtime when receiving a response to an HTTP request includes a Result type parameter. This type is itself configured. The first parameter of the type Result indicates the type that the result will have in case of failure (here Http.Error). The second parameter indicates the type of the result in case of a successful query (here a string).</p>
</div>
<div class="paragraph">
<p>(Result Http.Error String) is in brackets because it is the set that forms a type. Without brackets, this would mean that the <code>ResponseReceived</code> type has three parameters, of the respective types <code>Result</code>, <code>Http.Error</code> and <code>String</code> -which is not consistent with the operation of the Http module. Thanks to the parentheses, we indicate that <code>ResponseReceived</code> has only one parameter, of type <code>Result Http.Error String</code>.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>Continue to be guided by the compiler.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_process_the_answer">11.14. Process the answer</h3>
<div class="paragraph">
<p>The compiler tells us that a case is not processed by the update function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span>    <span class="tok-kr">case</span> <span class="tok-nv">msg</span> <span class="tok-kr">of</span>
        <span class="tok-kt">InputChanged</span> <span class="tok-nv">value</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-nf">...</span>
        <span class="tok-kt">FormSubmitted</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-nf">...</span>
        <span class="tok-nf"><strong></span><span class="tok-kt">ResponseReceived</span> <span class="tok-nv">_</span> <span class="tok-nf">-&gt;</strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">
            <span class="tok-nf"><strong></span><span class="tok-p">(</span><span class="tok-nv">model</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span><span class="tok-nf">.</span><span class="tok-nv">none</span><span class="tok-p">)</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>For the moment, we don&#8217;t know the answer</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is necessary to add a branch to the box to process the new case.</p>
</div>
<div class="paragraph">
<p>The compiler requires that all cases be processed. There can be no forgetting. It is thanks to this type of principle that an elm application never causes an error at runtime.</p>
</div>
<div class="paragraph">
<p>In the code above, the response conveyed by the response message is ignored.
The model is therefore returned unchanged.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>The compilation must be successful.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_enrich_the_model">11.15. Enrich the model</h3>
<div class="paragraph">
<p>To display the server response, the model
 must contain the value entered by the user and the server response.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">type</span> <span class="tok-kr">alias</span> <span class="tok-kt">Model</span> <span class="tok-nf">=</span>
    <span class="tok-nf"><strong></span><span class="tok-p">{</span> <span class="tok-nv">searchTerms</span> <span class="tok-nf">:</span> <span class="tok-kt">String</span>
    <span class="tok-p">,</span> <span class="tok-nv">response</span> <span class="tok-nf">:</span> <span class="tok-kt">String</span>
    <span class="tok-p">}</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Changing the model type causes compilation errors.
The compiler then tells us what changes to make to adapt the rest of the code.
It is a typical elm experience. We are talking about <strong>Compiler Driven Development</strong>.</p>
</div>
<div class="paragraph">
<p>In the record type declaration the symbol <code>:</code> is used to separate the keys from the types (as in all type declarations in elm).</p>
</div>
<div class="paragraph">
<p>The <code>searchTerms</code> field will be used to store the character string entered by the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="_initialize_the_new_model">11.16. Initialize the new model</h3>
<div class="paragraph">
<p>The initial value of the record fields is an empty string<br>
<strong>There is no null value in elm.</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">init</span> <span class="tok-nf">:</span> <span class="tok-p">()</span> <span class="tok-nf">-&gt;</span> <span class="tok-p">(</span> <span class="tok-kt">Model</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span> <span class="tok-kt">Msg</span> <span class="tok-p">)</span>
<span class="tok-nv">init</span> <span class="tok-nv">_</span> <span class="tok-nf">=</span>
    <span class="tok-p">(</span><span class="tok-nf"><strong></span> <span class="tok-p">{</span> <span class="tok-nv">searchTerms</span> <span class="tok-nf">=</span> <span class="tok-s">&quot;&quot;</span>
      <span class="tok-p">,</span> <span class="tok-nv">response</span> <span class="tok-nf">=</span> <span class="tok-s">&quot;&quot;</span>
      <span class="tok-p">}</span>
    <span class="tok-p">,</span> <span class="tok-kt">Cmd</span><span class="tok-nf">.</span><span class="tok-nv">none</span><span class="tok-nf"></strong></span>
    <span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>In the record initialization the symbol <code>=</code> is used to separate the keys from the values.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_use_the_record_in_the_update_function">11.17. Use the record in the update function</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kt">InputChanged</span> <span class="tok-nv">value</span> <span class="tok-nf">-&gt;</span>
    <span class="tok-nf"><strong></span><span class="tok-p">(</span> <span class="tok-p">{</span> <span class="tok-nv">model</span> <span class="tok-nf">|</span> <span class="tok-nv">searchTerms</span> <span class="tok-nf">=</span> <span class="tok-nv">value</span> <span class="tok-p">},</span> <span class="tok-kt">Cmd</span><span class="tok-nf">.</span><span class="tok-nv">none</span> <span class="tok-p">)</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">
<span class="tok-kt">FormSubmitted</span> <span class="tok-nf">-&gt;</span>
  <span class="tok-kr">let</span>
    <span class="tok-nv">httpCommand</span> <span class="tok-nf">=</span>
      <span class="tok-kt">Http</span><span class="tok-nf">.</span><span class="tok-nv">get</span>
       <span class="tok-p">{</span> <span class="tok-nv">url</span> <span class="tok-nf">=</span>
            <span class="tok-s">&quot;https://unsplash.noprod-b.kmt.orange.com&quot;</span>
                <span class="tok-nf">++</span> <span class="tok-s">&quot;/search/photos?query=&quot;</span>
                <span class="tok-nf"><strong>++</span> <span class="tok-nv">model</span><span class="tok-nf">.</span><span class="tok-nv">searchTerms</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/2.png" alt="2">
       <span class="tok-p">,</span> <span class="tok-nv">expect</span> <span class="tok-nf">=</span> <span class="tok-kt">Http</span><span class="tok-nf">.</span><span class="tok-nv">expectString</span> <span class="tok-kt">ResponseReceived</span>
       <span class="tok-p">}</span>
  <span class="tok-kr">in</span>
    <span class="tok-p">(</span> <span class="tok-nv">model</span><span class="tok-p">,</span> <span class="tok-nv">httpCommand</span> <span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>model update</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>access to the value of the searchTerms field</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When we receive an InputChanged message, we will update the searchTerms field of the model to store the value entered by the user.</p>
</div>
<div class="paragraph">
<p>More precisely, as in elm everything is immutable, we will create a new model model, based on the old one, in which the searchTerms field will have a value equal to that of the <code>value</code> parameter of the <code>InputChanged</code> message.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>For convenience, we say that we update the model, but from a theoretical point of view, it is an abuse of language.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_update_the_model_based_on_the_response_received">11.18. Update the model based on the response received</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span>    <span class="tok-kr">case</span> <span class="tok-nv">msg</span> <span class="tok-kr">of</span>
        <span class="tok-kt">InputChanged</span> <span class="tok-nv">value</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-nf">...</span>
        <span class="tok-kt">FormSubmitted</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-nf">...</span>

        <span class="tok-nf"><strong></span><span class="tok-kt">ResponseReceived</span> <span class="tok-p">(</span><span class="tok-kt">Ok</span> <span class="tok-nv">jsonString</span><span class="tok-p">)</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-p">(</span> <span class="tok-nf">...</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span><span class="tok-nf">.</span><span class="tok-nv">none</span> <span class="tok-p">)</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">

        <span class="tok-nf"><strong></span><span class="tok-kt">ResponseReceived</span> <span class="tok-p">(</span><span class="tok-kt">Err</span> <span class="tok-nv">_</span><span class="tok-p">)</span> <span class="tok-nf">-&gt;</span>
            <span class="tok-p">(</span> <span class="tok-nf">...</span><span class="tok-p">,</span> <span class="tok-kt">Cmd</span><span class="tok-nf">.</span><span class="tok-nv">none</span> <span class="tok-p">)</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/2.png" alt="2"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>Store the received value in the response field of the model</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>Store an error message in the response field of the model</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A Result object can be of the type <code>OK</code> or of the type <code>Err</code>.</p>
</div>
<div class="paragraph">
<p>If it is of type <code>OK</code>, its parameter will be the body of the Http response returned by the server.</p>
</div>
<div class="paragraph">
<p>If it is of type <code>Err</code>, its parameter will be <a href="https://package.elm-lang.org/packages/elm/http/latest/Http#Error">an Http error</a>, which should be analyzed with pattern matching to display a specific error message.</p>
</div>
<div class="paragraph">
<p>For the time being, we will store a generic error message, hard-coded in the response field of the model.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>You can verify the request being made and its response using the developer tools of your Web Browser</p>
</div>
<div class="paragraph">
<p>You can also use the Elm debugger to verify the messages processed by the update function and the resulting model.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_display_the_answer">11.19. Display the answer</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>create a <code>viewResponse</code> function</p>
</li>
<li>
<p><code>viewResponse</code> takes the model as a parameter and returns Html</p>
</li>
<li>
<p>use <code>viewResponse</code> to display the server response or error message under the input field</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="small"><em>Temporarily remove the query parameter from the request to cause an error 400, or disconnect your computer from the network.</em></span></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_expected_result_2">11.20. Expected result</h3>
<div class="imageblock">
<div class="content">
<img src="images/screenshots/ReponseBrute.png" alt="ReponseBrute">
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/screenshots/ErreurServeur.png" alt="ErreurServeur">
</div>
</div>
<div class="paragraph">
<p>The code for this step is available on <a href="https://github.com/PascalLeMerrer/elm-workshop/tree/step4">the github repo</a>, at the tag <strong>step 4</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_decoding_json">12. Decoding JSON</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_function_application_operator">12.1. Function Application Operator</h3>
<div class="paragraph">
<p>To convert the Json to elm data structures, we will need the operator |&gt; :<br>
<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>&lt;| means: evaluate the expression on the right, pass its value to the left</p>
</li>
<li>
<p>|&gt; means: evaluate the expression on the left, pass its value to the right</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">viewUsername</span> <span class="tok-nf">:</span> <span class="tok-kt">User</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Html</span> <span class="tok-kt">Msg</span>
<span class="tok-nv">viewUsername</span> <span class="tok-nv">user</span> <span class="tok-nf">=</span>
    <span class="tok-nv">div</span> <span class="tok-p">[]</span> <span class="tok-nf"><strong></span><span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-nf">&lt;|</span> <span class="tok-nv">user</span><span class="tok-nf">.</span><span class="tok-nv">firstname</span> <span class="tok-nf">++</span> <span class="tok-s">&quot; &quot;</span> <span class="tok-nf">++</span> <span class="tok-nv">user</span><span class="tok-nf">.</span><span class="tok-nv">name</span><span class="tok-nf"></strong></span> <span class="tok-p">]</span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td>is equivalent to <code><code>div [] [text (user.firstname  " "  user.name)]</code></code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>These operators allow a very elegant syntax for chaining calls (ex.: apply map then filter then sort to a list)</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_response_from_the_server">12.2. Response from the server</h3>
<div class="paragraph">
<p>The server response is in the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span></span><span class="tok-p">{</span>
    <span class="tok-nt">&quot;results&quot;</span> <span class="tok-p">:</span> <span class="tok-p">[</span>
        <span class="tok-p">{</span>
            <span class="tok-nt">&quot;urls&quot;</span> <span class="tok-p">:</span>
            <span class="tok-p">{</span>
                <span class="tok-nt">&quot;thumb&quot;</span> <span class="tok-p">:</span> <span class="tok-s2">&quot;http://...&quot;</span><span class="tok-p">,</span>
                <span class="tok-nt">&quot;regular&quot;</span> <span class="tok-p">:</span> <span class="tok-s2">&quot;http://...&quot;</span><span class="tok-p">,</span>
                <span class="tok-err">...</span>
            <span class="tok-p">}</span>
        <span class="tok-p">}</span>
    <span class="tok-p">]</span>
    <span class="tok-err">...</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The API response to an image search request is a JSON object that has a <code>results</code> property.
The value of results is an array of objects describing images.
Each of these objects has a url property, which itself has <code>thumb</code> and <code>regular</code> properties that correspond to the image sizes we are interested in.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declare_the_type_to_be_received">12.3. Declare the type to be received</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>install the <code>elm/json</code> package</p>
</li>
<li>
<p>install the package <code>NoRedInk/elm-json-decode-pipeline</code></p>
</li>
<li>
<p>create an <code>Image</code> module in a <code>Image.elm</code> file with the following content:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="small">src/Image.elm</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">module </span><span class="tok-nc">Image</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-kt">Image</span><span class="tok-p">,</span> <span class="tok-nv">imageListDecoder</span><span class="tok-p">)</span>


<span class="tok-nf"><strong></span><span class="tok-kr">import</span> <span class="tok-kt">Json</span><span class="tok-nf">.</span><span class="tok-kt">Decode</span> <span class="tok-kr">as</span> <span class="tok-kt">Decode</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-kt">Decoder</span><span class="tok-p">,</span> <span class="tok-nv">field</span><span class="tok-p">,</span> <span class="tok-nv">int</span><span class="tok-p">,</span> <span class="tok-nv">list</span><span class="tok-p">,</span> <span class="tok-nv">string</span><span class="tok-p">)</span>
<span class="tok-kn">import </span><span class="tok-nc">Json.Decode.Pipeline</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">required</span><span class="tok-p">,</span> <span class="tok-nv">requiredAt</span><span class="tok-p">)</span><span class="tok-nf"></strong></span>

<span class="tok-nf"><strong></span><span class="tok-kr">type</span> <span class="tok-kr">alias</span> <span class="tok-kt">Image</span> <span class="tok-nf">=</span>
    <span class="tok-p">{</span> <span class="tok-nv">thumbnailUrl</span> <span class="tok-nf">:</span> <span class="tok-kt">String</span>
    <span class="tok-p">,</span> <span class="tok-nv">url</span> <span class="tok-nf">:</span> <span class="tok-kt">String</span>
    <span class="tok-p">}</span><span class="tok-nf"></strong></span>

<span class="tok-nf"><strong></span><span class="tok-nv">imageDecoder</span> <span class="tok-nf">:</span> <span class="tok-kt">Decoder</span> <span class="tok-kt">Image</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/1.png" alt="1">
<span class="tok-nf"><strong></span><span class="tok-nv">imageDecoder</span> <span class="tok-nf">=</span>
    <span class="tok-kt">Decode</span><span class="tok-nf">.</span><span class="tok-nv">succeed</span> <span class="tok-kt">Image</span><span class="tok-nf"></strong></span>
        <span class="tok-nf"><strong>|&gt;</span> <span class="tok-nv">requiredAt</span> <span class="tok-p">[</span> <span class="tok-s">&quot;urls&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;thumb&quot;</span> <span class="tok-p">]</span> <span class="tok-nv">string</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/2.png" alt="2">
        <span class="tok-nf"><strong>|&gt;</span> <span class="tok-nv">requiredAt</span> <span class="tok-p">[</span> <span class="tok-s">&quot;urls&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;regular&quot;</span> <span class="tok-p">]</span> <span class="tok-nv">string</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/3.png" alt="3">

<span class="tok-nf"><strong></span><span class="tok-nv">imageListDecoder</span> <span class="tok-nf">:</span> <span class="tok-kt">Decoder</span> <span class="tok-p">(</span><span class="tok-kt">List</span> <span class="tok-kt">Image</span><span class="tok-p">)</span><span class="tok-nf"></strong></span> <span class="tok-c1">-- </span><img src="./images/icons/callouts/4.png" alt="4">
<span class="tok-nf"><strong></span><span class="tok-nv">imageListDecoder</span> <span class="tok-nf">=</span>
    <span class="tok-nv">field</span> <span class="tok-s">&quot;results&quot;</span> <span class="tok-p">(</span><span class="tok-nv">list</span> <span class="tok-nv">imageDecoder</span><span class="tok-p">)</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><img src="./images/icons/callouts/1.png" alt="1"></td>
<td><code>imageDecoder</code> converts the JSON received from the server to an <code>Image</code> type</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/2.png" alt="2"></td>
<td>the content of urls.thumb will go in the 1st field of the record</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/3.png" alt="3"></td>
<td>the content of urls.regular will go in the 2nd field of the record</td>
</tr>
<tr>
<td><img src="./images/icons/callouts/4.png" alt="4"></td>
<td><code>imageListDecoder</code> transforms the "results" field of the JSON into a list of <code>Image</code> records,<br>
each of which is created using <code>imageDecoder</code>.
<div class="ulist">
<ul>
<li>
<p>The first parameter of the <code>requiredAt</code> function is the path of the JSON property to be retrieved;</p>
</li>
<li>
<p>the second parameter, <code>string</code>, is a <strong>function</strong> that converts the property value into a String value. Note it&#8217;s a lowercase name, so it&#8217;s not the <code>String</code> type.</p>
</li>
</ul>
</div></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is essential in the decoder declaration to <strong>respect the order of the fields</strong> in the Image type.</p>
</div>
</div>
<div class="sect2">
<h3 id="_change_the_type_of_message_received">12.4. Change the type of message received</h3>
<div class="paragraph">
<p><span class="small">src/Main.elm</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">type</span> <span class="tok-kt">Msg</span>
    <span class="tok-nf">=</span> <span class="tok-kt">InputChanged</span> <span class="tok-kt">String</span>
    <span class="tok-nf">|</span> <span class="tok-kt">FormSubmitted</span>
    <span class="tok-nf">|</span> <span class="tok-kt">ResponseReceived</span> <span class="tok-p">(</span><span class="tok-kt">Result</span> <span class="tok-kt">Http</span><span class="tok-nf">.</span><span class="tok-kt">Error</span> <span class="tok-nf"><strong></span><span class="tok-p">(</span><span class="tok-kt">List</span> <span class="tok-kt">Image</span><span class="tok-p">)</span><span class="tok-nf"></strong></span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The answer will be of Image list type and no longer of String type</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_use_the_decoder">12.5. Use the decoder</h3>
<div class="paragraph">
<p><span class="small">src/Main.elm</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span>
<span class="tok-p">{</span> <span class="tok-nv">url</span> <span class="tok-nf">=</span>
        <span class="tok-s">&quot;https://unsplash.noprod-b.kmt.orange.com&quot;</span>
            <span class="tok-nf">++</span> <span class="tok-s">&quot;/search/photos?query=&quot;</span>
            <span class="tok-nf">++</span> <span class="tok-nv">model</span><span class="tok-nf">.</span><span class="tok-nv">searchTerms</span>
<span class="tok-p">,</span> <span class="tok-nv">expect</span> <span class="tok-nf">=</span> <span class="tok-nf"><strong></span><span class="tok-kt">Http</span><span class="tok-nf">.</span><span class="tok-nv">expectJson</span><span class="tok-nf"></strong></span> <span class="tok-kt">ResponseReceived</span> <span class="tok-nf"><strong></span><span class="tok-nv">imageListDecoder</span><span class="tok-nf"></strong></span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>expectJson</code> takes one more parameter than <code>expectString</code>: the decoder to use to convert the JSON response into an elm data structure.</p>
</div>
</div>
<div class="sect2">
<h3 id="_storing_images_in_the_model">12.6. Storing images in the model</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Delete the <code>response</code> field of type <code>Model</code>.</p>
</li>
<li>
<p>Comment or delete the response display code</p>
</li>
<li>
<p>Add an <code>images</code> field to the <code>Model</code> type</p>
</li>
<li>
<p>Store the server response in case of success</p>
</li>
<li>
<p>Add a <code>message</code> field to the <code>Model</code> type</p>
</li>
<li>
<p>Store the error message when necessary</p>
</li>
<li>
<p>Display this message, if any, under the input field</p>
</li>
<li>
<p>Simulate a network problem to test the display of the error message</p>
</li>
<li>
<p>Check the correct functioning of the image list part with the debugger</p>
</li>
</ol>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>If there is no error, use <code>text ""</code> to replace the message. It won&#8217;t add anything to the DOM.</p>
</div>
<div class="paragraph">
<p>If you want to use the <code>not equal</code> operator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kr">if</span> <span class="tok-nv">a</span> <span class="tok-nf">/=</span> <span class="tok-nv">b</span> <span class="tok-kr">then</span>
    <span class="tok-s">&quot;different&quot;</span>
<span class="tok-kr">else</span>
    <span class="tok-s">&quot;equal&quot;</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The code for this step is available on <a href="https://github.com/PascalLeMerrer/elm-workshop/tree/step5">the github repo</a>, at the tag <strong>step 5</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_displaying_responses">13. Displaying responses</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_show_thumbnails">13.1. Show thumbnails</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">view</span> <span class="tok-nv">model</span> <span class="tok-nf">=</span>
    <span class="tok-nv">div</span> <span class="tok-p">[</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;container&quot;</span> <span class="tok-p">]</span>
        <span class="tok-p">[</span> <span class="tok-nv">h</span><span class="tok-mi">1</span> <span class="tok-p">[</span> <span class="tok-nv">class</span> <span class="tok-s">&quot;title&quot;</span> <span class="tok-p">]</span> <span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-s">&quot;elm image search&quot;</span> <span class="tok-p">]</span>
        <span class="tok-p">,</span> <span class="tok-nv">viewForm</span>
        <span class="tok-p">,</span> <span class="tok-nv">viewMessage</span> <span class="tok-nv">model</span>
        <span class="tok-nf"><strong></span><span class="tok-p">,</span> <span class="tok-nv">viewResults</span> <span class="tok-nv">model</span><span class="tok-nf"></strong></span>
        <span class="tok-p">]</span>

<span class="tok-nf"><strong></span><span class="tok-nv">viewResults</span> <span class="tok-nf">:</span> <span class="tok-kt">Model</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Html</span> <span class="tok-kt">Msg</span>
<span class="tok-nv">viewResults</span> <span class="tok-nv">model</span> <span class="tok-nf">=</span>
    <span class="tok-nv">div</span> <span class="tok-p">[]</span> <span class="tok-p">(</span><span class="tok-kt">List</span><span class="tok-nf">.</span><span class="tok-nv">map</span> <span class="tok-nv">viewThumbnail</span> <span class="tok-nv">model</span><span class="tok-nf">.</span><span class="tok-nv">images</span><span class="tok-p">)</span><span class="tok-nf"></strong></span>

<span class="tok-nf"><strong></span><span class="tok-nv">viewThumbnail</span> <span class="tok-nf">:</span> <span class="tok-kt">Image</span> <span class="tok-nf">-&gt;</span> <span class="tok-kt">Html</span> <span class="tok-kt">Msg</span>
<span class="tok-nv">viewThumbnail</span> <span class="tok-nv">image</span> <span class="tok-nf">=</span>
    <span class="tok-nv">img</span> <span class="tok-p">[</span> <span class="tok-nv">src</span> <span class="tok-nv">image</span><span class="tok-nf">.</span><span class="tok-nv">thumbnailUrl</span> <span class="tok-p">]</span> <span class="tok-p">[]</span><span class="tok-nf"></strong></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>List.map</code> applies the <code>viewImage</code> function to each of the elements in the <code>model.images</code> list, and returns a list containing the results.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>In functional languages, it is not possible to modify an index value at each iteration, that&#8217;s why there is no for or while loop.<br>
Instead we browse the lists with functions such as map.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_improving_the_presentation_of_images">13.2. Improving the presentation of images</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>add the CSS classes "columns" and "is-multiline" to the div that includes the list of images</p>
</li>
<li>
<p>display each thumbnail in a div having the CSS classes "column" and "is-one-quarter"</p>
</li>
<li>
<p>add a vertical spacing between the form and the answers</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_expected_result_3">13.3. Expected result</h3>
<div class="imageblock text-center">
<div class="content">
<img src="images/screenshots/Resultats.png" alt="Resultats">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_improving_the_display_of_the_error_message">13.4. Improving the display of the error message</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>use a <a href="https://bulma.io/documentation/elements/notification/">Bulma notification</a> to improve the presentation of the error message</p>
</li>
<li>
<p>a click on the button must hide the notification</p>
</li>
<li>
<p>the launch of a new search must hide the notification</p>
</li>
</ol>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>HTML for displaying a notification with Bulma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;div class="notification is-danger"&gt;
  &lt;button class="delete"&gt;&lt;/button&gt;
  Lorem ipsum dolor sit amet, consectetur
&lt;/div&gt;</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_expected_outcome_3">13.5. Expected outcome</h3>
<div class="imageblock">
<div class="content">
<img src="images/screenshots/NotificationErreur.png" alt="NotificationErreur">
</div>
</div>
<div class="paragraph">
<p>The code for this step is available on <a href="https://github.com/PascalLeMerrer/elm-workshop/tree/step6">the github repo</a>, at the tag <strong>step 6</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_the_business_code">14. Test the business code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We would like to offer images adapted for Desktop on the one hand, and for mobile on the other hand.</p>
</div>
<div class="paragraph">
<p>You will therefore have to add a filtering mechanism for images according to their format: landscape or portrait.</p>
</div>
<div class="sect2">
<h3 id="_filter_the_images_according_to_their_format">14.1. Filter the images according to their format</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>enrich the Image type with <code>height</code> and <code>width</code> fields</p>
</li>
<li>
<p>retrieve the value of these fields in the server response</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_add_the_current_mode_to_the_model">14.2. Add the current mode to the model</h3>
<div class="paragraph">
<p>The template must indicate whether we display the photos in portrait, landscape, or both (default state).<br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>declare a custom type <code>Format</code> in the module <code>Image</code>; the possible builders are <code>Portrait</code>, <code>Landscape</code> and <code>Any</code>.</p>
</li>
<li>
<p>export this type <strong>and its constructors</strong> with <code>exposing (Format(..), &#8230;&#8203;)</code></p>
</li>
<li>
<p>import this type <strong>and its constructors</strong> into Main, with the same syntax</p>
</li>
<li>
<p>add a <code>format</code> field to the model</p>
</li>
<li>
<p>give it an initial value of "Any"</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_add_a_drop_down_list">14.2.1. Add a drop-down list</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-nv">viewForm</span> <span class="tok-nf">=</span>
    <span class="tok-nv">form</span> <span class="tok-p">[</span> <span class="tok-nv">onSubmit</span> <span class="tok-kt">FormSubmitted</span> <span class="tok-p">]</span>
        <span class="tok-p">[</span> <span class="tok-nv">input</span>
            <span class="tok-nf">...</span>
        <span class="tok-nf"><strong></span><span class="tok-p">,</span> <span class="tok-nv">div</span> <span class="tok-p">[</span><span class="tok-nv">class</span> <span class="tok-s">&quot;select&quot;</span><span class="tok-p">]</span>
            <span class="tok-p">[</span><span class="tok-nv">select</span>
                <span class="tok-p">[]</span>
                <span class="tok-p">[</span> <span class="tok-nv">option</span> <span class="tok-p">[</span><span class="tok-nv">value</span> <span class="tok-s">&quot;any&quot;</span><span class="tok-p">]</span> <span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-s">&quot;Tous&quot;</span> <span class="tok-p">]</span>
                <span class="tok-p">,</span> <span class="tok-nv">option</span> <span class="tok-p">[</span><span class="tok-nv">value</span> <span class="tok-s">&quot;landscape&quot;</span><span class="tok-p">]</span> <span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-s">&quot;Paysage&quot;</span> <span class="tok-p">]</span>
                <span class="tok-p">,</span> <span class="tok-nv">option</span> <span class="tok-p">[</span><span class="tok-nv">value</span> <span class="tok-s">&quot;portrait&quot;</span><span class="tok-p">]</span> <span class="tok-p">[</span> <span class="tok-nv">text</span> <span class="tok-s">&quot;Portrait&quot;</span> <span class="tok-p">]</span>
                <span class="tok-p">]</span>
            <span class="tok-p">]</span><span class="tok-nf"></strong></span>
        <span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">

</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_send_a_message_when_the_selection_changes">14.3. Send a message when the selection changes</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">import </span><span class="tok-nc">Html.Events</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">on</span><span class="tok-p">,</span> <span class="tok-nv">targetValue</span><span class="tok-p">,</span> <span class="tok-nv">onClick</span><span class="tok-p">,</span> <span class="tok-nv">onInput</span><span class="tok-p">,</span> <span class="tok-nv">onSubmit</span><span class="tok-p">)</span>
<span class="tok-kn">import </span><span class="tok-nc">Json.Decode</span>
<span class="tok-nf">...</span>
<span class="tok-kr">type</span> <span class="tok-kt">Msg</span>
  <span class="tok-nf">=</span> <span class="tok-nf">...</span>
  <span class="tok-nf"><strong>|</span> <span class="tok-kt">FormatChanged</span> <span class="tok-kt">String</span><span class="tok-nf"></strong></span>

<span class="tok-nf">...</span>
  <span class="tok-p">,</span> <span class="tok-nv">div</span> <span class="tok-p">[</span><span class="tok-nv">class</span> <span class="tok-s">&quot;select&quot;</span><span class="tok-p">]</span>
  <span class="tok-p">[</span> <span class="tok-nv">select</span>
    <span class="tok-p">[</span> <span class="tok-nf"><strong></span><span class="tok-nv">onInput</span> <span class="tok-kt">FormatChanged</span><span class="tok-nf"></strong></span>
    <span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When the selection in the drop-down list changes, a message built with FormatChanged and the selected character string is sent.</p>
</div>
</div>
<div class="sect2">
<h3 id="_memorize_the_selected_format">14.4. Memorize the selected format</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>enrich the <code>update</code> function to store the selected format in the template</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Hint: in a <code>case</code>, the branch <code>_ &#8594; &#8230;&#8203;</code> is executed for any value.</p>
</div>
</div>
<div class="sect2">
<h3 id="_write_a_filter_function">14.5. Write a filter function</h3>
<div class="paragraph">
<p>We will write the unit tests that describe the behavior of <code>filterImages</code> before implementing it.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>in the <code>Image</code> module, create a <code>filterImages</code> function, which takes as parameter a <code>Format</code> and a list of images</p>
</li>
<li>
<p>first, write <code>filterImages</code> so that it returns an empty list</p>
</li>
<li>
<p>the final implementation of <code>filterImages</code> will return the list of images corresponding to the format passed in parameter</p>
</li>
</ol>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>Putting the image list as the last parameter allows to link function applications (ex: map then filter then sort)</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_initialize_the_tests">14.6. Initialize the tests</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>type <code>elm-test init</code> in the terminal, at the root of the project.</p>
</li>
<li>
<p>rename <code>tests/Example.elm</code> to <code>tests/TestImage.elm</code></p>
</li>
<li>
<p>open <code>tests/TestImage.elm</code></p>
</li>
<li>
<p>rename the module to <code>TestImage</code>.</p>
</li>
<li>
<p>follow the link in the todo to display the documentation</p>
</li>
<li>
<p>replace the test suite in <code>TestImage.elm</code> by the one in the documentation</p>
</li>
<li>
<p>run <code>elm-test</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Three tests should pass.</p>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p><code>todo</code> is a function of the test framework that creates a test that will systematically fail.
But the result of a "todo" test is only displayed if no other test fails.</p>
</div>
<div class="paragraph">
<p>In addition to the basic tests, elm-test offers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>fuzzy testing: make multiple calls to the function to be tested, with randomly generated input values, to test in a single test many cases, including those that the developer would not have thought of.</p>
</li>
<li>
<p>GUI tests: you can test the HTML generated by the application.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_content_of_a_test_module">14.7. Content of a test module</h3>
<div class="ulist">
<ul>
<li>
<p>A <code>Suite</code> of tests per module</p>
</li>
<li>
<p>It is possible to nest calls to <code>describe</code>.</p>
</li>
<li>
<p>The Expect module provides assertions</p>
</li>
<li>
<p><a href="https://package.elm-lang.org/packages/elm-explorations/test/latest/Expect#all">Expect.all</a> checks several assertions for a given value</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_import_the_code_to_be_tested">14.8. Import the code to be tested</h3>
<div class="paragraph">
<p>Only the public functions and types of the module to be tested can be accessed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="elm"><span></span><span class="tok-kn">module </span><span class="tok-nc">TestImage</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-nv">suite</span><span class="tok-p">)</span>

<span class="tok-kn">import </span><span class="tok-nc">Expect</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-kt">Expectation</span><span class="tok-p">)</span>
<span class="tok-kn">import </span><span class="tok-nc">Fuzz</span> <span class="tok-nv">exposing</span> <span class="tok-p">(</span><span class="tok-kt">Fuzzer</span><span class="tok-p">,</span> <span class="tok-nv">int</span><span class="tok-p">,</span> <span class="tok-nv">list</span><span class="tok-p">,</span> <span class="tok-nv">string</span><span class="tok-p">)</span>
<span class="tok-nf"><strong></span><span class="tok-kr">import</span> <span class="tok-kt">Image</span> <span class="tok-nv">exposing</span> <span class="tok-nf">(..)</strong></span>
<span class="tok-kn">import </span><span class="tok-nc">Test</span> <span class="tok-nv">exposing</span> <span class="tok-nf">(..)</span></code></pre>
</div>
</div>
<div class="admonitionblock note speaker">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>It is only possible to test what is public.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_test_and_implement_filterimages">14.9. Test and implement filterImages</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a test that checks the behavior of the filtering function, for the Any value of the format.</p>
</li>
<li>
<p>Start the automatic execution of tests with <code>elm-test --watch</code>.</p>
</li>
<li>
<p>The test should compile, but it&#8217;s execution should fail.</p>
</li>
<li>
<p>Implement the filterImages function so that the test passes, using the most simple implementation you can.</p>
</li>
<li>
<p>Add a test for the Portrait value.</p>
</li>
<li>
<p>Adjust the implementation of filterImages.</p>
</li>
<li>
<p>Add a test for the Landscape value.</p>
</li>
<li>
<p>Adjust the implementation of filterImages</p>
</li>
<li>
<p>Use filterImages in <code>Main.elm</code> to display only the images corresponding to the selected format</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Recommendation: define test data outside the test suite</p>
</div>
</div>
<div class="sect2">
<h3 id="_tests_some_recommendations">14.10. Tests: some recommendations</h3>
<div class="paragraph">
<p>The <a href="https://github.com/elm-community/elm-test#strategies-for-effective-testing">elm-test doc</a> gives recommendations for an effective testing strategy</p>
</div>
<div class="paragraph">
<p>The code for this step is available on <a href="https://github.com/PascalLeMerrer/elm-workshop/tree/step7">the github repo</a>, at the tag <strong>step 7</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">15. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the end of this first approach to Elm.</p>
</div>
<div class="paragraph">
<p>We hope you start seeing what makes Elm a so delightful language:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>reliable applications: no errors in production</p>
</li>
<li>
<p>simplicity of the tools</p>
</li>
<li>
<p>useful error messages</p>
</li>
<li>
<p>fast compilation</p>
</li>
<li>
<p>packages cohesion: no conflict between packages</p>
</li>
<li>
<p>performance: it compares to the fastest JS frameworks, an is better than the most popular of them (<a href="https://medium.freecodecamp.org/a-realworld-comparison-of-front-end-frameworks-with-benchmarks-2019-update-4be0d3c78075">source</a>)</p>
</li>
<li>
<p>light weight of the JS compiled files (<a href="https://elm-lang.org/blog/small-assets-without-the-headache">source</a>)</p>
</li>
<li>
<p>welcoming community (try Slack)</p>
</li>
<li>
<p>last but not least, <strong>refactoring without risk</strong>, which probably is its killer feature.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/cheating.png" alt="cheating">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_going_further">16. Going Further</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to go further, there are books and online resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Book: <a href="https://pragprog.com/book/jfelm/programming-elm">Programming Elm</a>  by Jeremy Fairbank</p>
</li>
<li>
<p>Book: <a href="https://korban.net/elm/book/">Practical Elm for a Busy Developer</a>: you need to practice a bit before reading this one, it&#8217;s not for beginners, but I definitely recommend it</p>
</li>
<li>
<p>Support: the #beginners channel on <a href="https://elmlang.slack.com">elm slack</a></p>
</li>
<li>
<p>Newsletter: <a href="http://www.elmweekly.nl/">Elm Weekly</a></p>
</li>
<li>
<p>Forum: <a href="https://discourse.elm-lang.org/">Elm Discourse</a></p>
</li>
<li>
<p>Conference: <a href="https://2019.elmeurope.org/">Elm Europe</a>, 27-28th of June 2019, Paris</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also complete the app you started here, by example by displaying the large version of the image when clicking a thumbnail.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-05-16 20:56:12 +0200
</div>
</div>
</body>
</html>